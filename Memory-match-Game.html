<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Memory Match Game - Centered</title>
<style>
body {
  margin: 0;
  font-family: 'Arial', sans-serif;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #ff9a9e, #fad0c4, #a18cd1, #fbc2eb);
  background-size: 400% 400%;
  animation: gradientBG 15s ease infinite;
}

@keyframes gradientBG{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

h1 {
  font-size: 2rem;
  color: #fff;
  text-shadow: 2px 2px 5px rgba(0,0,0,0.2);
  margin-bottom: 10px;
  text-align: center;
}

.stats {
  display:flex;
  gap:20px;
  color:#fff;
  font-weight:bold;
  margin-bottom: 15px;
  font-size: 18px;
  text-shadow:1px 1px 3px rgba(0,0,0,0.2);
}

.game-container {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
}

.game {
  display: grid;
  gap: 10px;
  perspective: 800px;
  max-width: 600px;
  width: 90vw;
}

.card {
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.2s ease-in-out;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

.card.flipped { transform: rotateY(180deg); }

.card .front, .card .back {
  position:absolute;
  width:100%;
  height:100%;
  backface-visibility: hidden;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size: 36px;
  border-radius:10px;
}

.card .front {
  color: #fff;
  font-weight: bold;
}

.card.flipped .front {
  background: #fff;
}

.card .back {
  transform: rotateY(180deg);
  font-weight: bold;
  font-size: 36px;
  color: #333;
}

.message {
  margin-top:10px;
  font-size: 16px;
  font-weight:bold;
  color:#fff;
  text-shadow:1px 1px 3px rgba(0,0,0,0.2);
  min-height:20px;
  text-align: center;
}

button {
  margin-top:10px;
  padding:8px 12px;
  border:none;
  border-radius:10px;
  font-weight:bold;
  cursor:pointer;
  background: linear-gradient(135deg,#ffd93d,#ff6b6b);
  color:#333;
  font-size:14px;
  box-shadow:0 3px 8px rgba(0,0,0,0.2);
  transition: transform 0.1s;
}

button:hover { transform: scale(1.05); }

@media (max-width: 500px){
  .card { width: 60px; height: 60px; font-size:28px; }
}
</style>
</head>
<body>

<h1>🎮 Memory Match Game 🎮</h1>
<div class="stats">
  <div>Moves: <span id="moves">0</span></div>
  <div>Level: <span id="level">1</span></div>
</div>

<div class="game-container">
  <div class="game" id="game"></div>
</div>

<div class="message" id="message"></div>
<button id="nextLevelBtn" style="display:none;">Next Level</button>

<script>
let level = 1;
let moves = 0;
let firstCard = null;
let secondCard = null;
let lockBoard = false;
let matchedPairs = 0;

const game = document.getElementById('game');
const movesSpan = document.getElementById('moves');
const levelSpan = document.getElementById('level');
const message = document.getElementById('message');
const nextLevelBtn = document.getElementById('nextLevelBtn');

const symbols = ["🐶","🐱","🦁","🐼","🐸","🐵","🐔","🦊","🐰","🐷","🐨","🐯","🐧","🐢","🐙","🦄"];

const gradients = [
  "linear-gradient(135deg,#ff6b6b,#ff9f43)",
  "linear-gradient(135deg,#1dd1a1,#00d2d3)",
  "linear-gradient(135deg,#5f27cd,#ee5253)",
  "linear-gradient(135deg,#10ac84,#f368e0)",
  "linear-gradient(135deg,#feca57,#ff6b6b)",
  "linear-gradient(135deg,#54a0ff,#1dd1a1)",
  "linear-gradient(135deg,#ff9ff3,#feca57)",
  "linear-gradient(135deg,#48dbfb,#5f27cd)"
];

function generateCards(){
  const numPairs = Math.min(level + 2, 8);
  const selected = symbols.slice(0,numPairs);
  const cardSymbols = [...selected, ...selected];
  return cardSymbols.sort(()=>Math.random()-0.5);
}

function setupBoard(){
  game.innerHTML = '';
  const cardsArr = generateCards();
  matchedPairs = 0;
  moves = 0;
  movesSpan.textContent = moves;
  message.textContent = '';
  nextLevelBtn.style.display = 'none';

  const columns = Math.min(cardsArr.length/2, 4);
  game.style.gridTemplateColumns = `repeat(${columns}, 1fr)`;

  cardsArr.forEach(symbol=>{
    const card = document.createElement('div');
    card.classList.add('card');
    card.dataset.symbol = symbol;
    const cardColor = gradients[level % gradients.length];
    const shape = level % 2 === 0 ? '50%' : '12px';
    card.style.borderRadius = shape;
    card.innerHTML = `<div class="front" style="background:${cardColor}"></div><div class="back">${symbol}</div>`;
    card.addEventListener('click',()=>flipCard(card));
    game.appendChild(card);
  });
}

function flipCard(card){
  if(lockBoard || card.classList.contains('flipped')) return;
  card.classList.add('flipped');
  if(!firstCard) { firstCard = card; return; }
  secondCard = card;
  checkMatch();
}

function checkMatch(){
  moves++;
  movesSpan.textContent = moves;
  if(firstCard.dataset.symbol === secondCard.dataset.symbol){
    matchedPairs++;
    resetTurn();
    if(matchedPairs === Math.min(level+2,8)){
      message.textContent = "🎉 Level Completed!";
      nextLevelBtn.style.display = 'inline-block';
    }
  } else {
    lockBoard = true;
    setTimeout(()=>{
      firstCard.classList.remove('flipped');
      secondCard.classList.remove('flipped');
      resetTurn();
    },200);
  }
}

function resetTurn(){
  [firstCard, secondCard] = [null,null];
  lockBoard = false;
}

nextLevelBtn.addEventListener('click',()=>{
  if(level<8) level++;
  levelSpan.textContent = level;
  setupBoard();
});

setupBoard();
</script>
</body>
</html>
