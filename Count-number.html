<!DOCTYPE html>
<html lang="en">
<head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6306028737571143"
     crossorigin="anonymous"></script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Count the Objects Game</title>
<style>
:root{
  --bg: #f0f9ff;
  --accent: #8bc34a;
  --muted: #666;
  --card: rgba(255,255,255,0.95);
}
*{box-sizing:border-box;}
html,body{height:100%; margin:0; font-family:"Comic Sans MS", system-ui, -apple-system, "Segoe UI", Roboto, Arial; display:flex; justify-content:center; align-items:center; background:var(--bg);}
.container{width:100%; max-width:700px; background: linear-gradient(180deg,#ffffffcc,#ffffffaa); border-radius:16px; padding:20px; display:flex; flex-direction:column; align-items:center; gap:12px; box-shadow:0 10px 30px rgba(0,0,0,0.12);}
header{text-align:center;}
#level{font-size:clamp(1.2rem,2.2vw,1.5rem); font-weight:800; color:#222;}
#message{font-size:clamp(1.4rem,3.5vw,2.2rem); color:#111; margin:0;}
main{width:100%; display:flex; flex-direction:column; align-items:center; gap:14px;}
#objects-line{display:flex; gap:8px; flex-wrap:wrap; justify-content:center; max-width:100%; overflow-x:auto; padding:5px;}
.object{font-size:3rem; animation: bounce 1s infinite alternate;}
@keyframes bounce{0%{transform:translateY(0);}100%{transform:translateY(-10px);}}
#options{display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-top:8px;}
.number-btn{-webkit-appearance:none; appearance:none; border:4px solid transparent; background:var(--card); border-radius:14px; width:60px; height:60px; display:flex; align-items:center; justify-content:center; cursor:pointer; transition: transform .12s ease, border-color .12s ease, box-shadow .12s ease; font-size:1.5rem; font-weight:bold;}
.number-btn:active{ transform: scale(.96); }
.number-btn:hover{ border-color: color-mix(in srgb, var(--accent) 30%, transparent); }
.number-btn.correct{ border-color:#16a34a; box-shadow:0 10px 24px rgba(22,163,74,0.1); }
.number-btn.wrong{ border-color:#dc2626; box-shadow:0 10px 24px rgba(220,38,38,0.1); }
.controls{display:flex; gap:10px; justify-content:center; width:100%;}
.btn{padding:8px 12px; font-weight:800; border-radius:10px; border:0; cursor:pointer; background:#111827; color:#fff;}
.btn.secondary{background:#f59e0b; color:#111827;}
.status{margin-top:8px;}
.badge{background:var(--card); padding:8px 12px; border-radius:999px; font-weight:800; box-shadow:0 6px 14px rgba(0,0,0,0.06);}
footer{font-size:.9rem; color:var(--muted); text-align:center; margin-top:4px;}
</style>
</head>
<body>
<div class="container">
  <header>
    <div id="level">Level 1</div>
    <div id="message">Count the objects!</div>
  </header>
  <main>
    <div id="objects-line"></div>
    <div id="options"></div>
    <div class="controls">
      <button class="btn secondary" id="skipBtn">Skip ▶</button>
    </div>
    <div class="status"><div class="badge" id="score">Score: 0</div></div>
  </main>
  <footer>Tap the correct number. Use skip if needed!</footer>
</div>

<audio id="cheer">
  <source src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg" type="audio/ogg">
  <source src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.mp3" type="audio/mpeg">
</audio>

<script>
const totalLevels = 30;
let currentLevel = 1;
let score = 0;
const objectsLine = document.getElementById('objects-line');
const optionsEl = document.getElementById('options');
const levelEl = document.getElementById('level');
const messageEl = document.getElementById('message');
const scoreEl = document.getElementById('score');
const skipBtn = document.getElementById('skipBtn');
const cheer = document.getElementById('cheer');

function randomInt(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }

function getMaxNumber(level){
  if(level<=5) return 5;
  if(level<=10) return 10;
  if(level<=15) return 15;
  if(level<=20) return 20;
  if(level<=25) return 25;
  return 30;
}

function generateLevel(){
  const maxNumber = getMaxNumber(currentLevel);
  const objectCount = randomInt(1,maxNumber);
  const objectSymbols = ['🍎','🎈','🐶','🐱','🍌','⭐','🍇','🍉','🐟','🐝'];
  const objectSymbol = objectSymbols[randomInt(0, objectSymbols.length-1)];
  
  objectsLine.innerHTML='';
  for(let i=0;i<objectCount;i++){
    const span = document.createElement('span');
    span.className='object';
    span.textContent=objectSymbol;
    objectsLine.appendChild(span);
  }

  generateOptions(objectCount);
  levelEl.textContent=`Level ${currentLevel}`;
  messageEl.textContent=`How many ${objectSymbol} are there?`;
}

function generateOptions(correctNumber){
  optionsEl.innerHTML='';
  const optionsSet = new Set();
  optionsSet.add(correctNumber);

  while(optionsSet.size<4){
    const num = correctNumber + randomInt(-3,3);
    if(num>0) optionsSet.add(num);
  }

  const options = Array.from(optionsSet).sort(()=>Math.random()-0.5);
  options.forEach(n=>{
    const btn=document.createElement('button');
    btn.type='button';
    btn.className='number-btn';
    btn.textContent=n;
    btn.addEventListener('click',()=>checkAnswer(n,btn,correctNumber));
    optionsEl.appendChild(btn);
  });
}

function checkAnswer(chosen,btn,correct){
  const btns = optionsEl.querySelectorAll('.number-btn');
  btns.forEach(b=>b.disabled=true);

  if(chosen===correct){
    btn.classList.add('correct');
    score++;
    scoreEl.textContent=`Score: ${score}`;
    try{ cheer.currentTime=0; cheer.play(); } catch(e){}
    setTimeout(()=>nextLevel(),800);
  } else {
    btn.classList.add('wrong');
    setTimeout(()=>{ btns.forEach(b=>b.disabled=false); },300);
  }
}

function nextLevel(){
  currentLevel++;
  if(currentLevel>totalLevels){
    messageEl.textContent=`Well done! Game completed. Score: ${score}/${totalLevels}`;
    objectsLine.innerHTML='';
    optionsEl.innerHTML='';
    return;
  }
  generateLevel();
}

skipBtn.addEventListener('click', ()=>nextLevel());
generateLevel();
</script>
</body>
</html>
